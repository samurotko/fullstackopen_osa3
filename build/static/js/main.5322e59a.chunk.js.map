{"version":3,"sources":["Services.js","AddName.js","Filtter.js","RenderPersons.js","Notification.js","App.js","index.js"],"names":["baseUrl","Services","getAll","axios","get","deletePerson","id","delete","create","newObject","post","update","put","then","response","data","AddName","props","checkName","console","log","newName","persons","some","i","name","person","find","replace","changedPerson","number","newNumber","Service","setPersons","map","setNewName","setNewNumber","sendMessage","setMessageColor","catch","error","filter","n","length","window","confirm","replaceNumber","onSubmit","event","preventDefault","target","newPerson","concat","value","onChange","type","Filtter","setFilter","toLowerCase","includes","RenderPersons","onClick","Notification","notificationStyle","color","messageColor","background","fontSize","borderStyle","borderRadius","padding","marginBottom","message","className","style","App","useState","setMessage","useEffect","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"2LACMA,EAAU,oCAyBDC,EAJE,CACfC,OApBa,WACb,OAAOC,IAAMC,IAAIJ,IAmBTK,aAdW,SAACC,GACpB,OAAOH,IAAMI,OAAN,UAAgBP,EAAhB,YAA2BM,KAaZE,OAVT,SAAAC,GACb,OAAON,IAAMO,KAAKV,EAASS,IASGE,OANjB,SAACL,EAAIG,GAElB,OADgBN,IAAMS,IAAN,UAAaZ,EAAb,YAAwBM,GAAMG,GAC/BI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UC6G5BC,EA3HC,SAACC,GAOjB,IAiCMC,EAAY,WAIhB,OAHAC,QAAQC,IAAI,UAAUH,EAAMI,UAGzBJ,EAAMK,QAAQC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,OAASR,EAAMI,aAC1CF,QAAQC,IAAI,QAtCM,SAACH,GACrB,IAAMS,EAAST,EAAMK,QAAQK,MAAK,SAAAD,GAAM,OAAIA,EAAOD,OAASR,EAAMI,WAE5DO,EAAU,WACd,IAAMC,EAAa,2BAAOH,GAAP,IAAeI,OAAQb,EAAMc,YAC9CZ,QAAQC,IAAI,SAAUM,GACtBM,EAAQrB,OAAOe,EAAOpB,GAAIuB,GACzBhB,MAAK,SAAAC,GACJG,EAAMgB,WAAWhB,EAAMK,QAAQY,KAAI,SAAAV,GAAC,OAAIA,EAAElB,KAAOoB,EAAOpB,GAAKkB,EAAIV,MACjEG,EAAMkB,WAAW,IACjBlB,EAAMmB,aAAa,IACnBnB,EAAMoB,YAAN,kBAA6BX,EAAOD,KAApC,wBAAwDR,EAAMc,YAC9Dd,EAAMqB,gBAAgB,YAEvBC,OAAM,SAAAC,GACLvB,EAAMoB,YAAN,yBACoBX,EAAOD,KAD3B,0CAGAR,EAAMqB,gBAAgB,OACtBrB,EAAMgB,WAAWhB,EAAMK,QAAQmB,QAAO,SAAAC,GAAC,OAAIA,EAAEpC,KAAOoB,EAAOpB,WAKvC,IAAvBoB,EAAOI,OAAOa,OACZC,OAAOC,QAAP,UAAkBnB,EAAOD,KAAzB,4EACDG,IAGFA,IAUAkB,CAAc7B,IAEP,IAmDX,OACA,uBAAM8B,SA9CU,SAACC,GAKf,GAJAA,EAAMC,iBACN9B,QAAQC,IAAI,WAAWH,EAAMI,SAC7BF,QAAQC,IAAI,aAAaH,EAAMc,WAC/BZ,QAAQC,IAAI,iBAAkB4B,EAAME,QACjChC,IAAY,CACb,IAAMiC,EAAY,CACd1B,KAAMR,EAAMI,QACZS,OAAQb,EAAMc,WAElBC,EAAQxB,OAAO2C,GACdtC,MAAK,SAAAC,GACJG,EAAMgB,WAAWhB,EAAMK,QAAQ8B,OAAOtC,EAASC,OAE/CI,QAAQC,IAAI,cAAcH,EAAMK,SAChCL,EAAMoB,YAAN,gBAA2Bc,EAAU1B,OAErCR,EAAMkB,WAAW,IACjBlB,EAAMmB,aAAa,OAClBG,OAAM,SAAAC,GACPrB,QAAQC,IAAIoB,EAAM1B,SAASC,KAAKyB,OAChCvB,EAAMoB,YAAYG,EAAM1B,SAASC,KAAKyB,OACtCvB,EAAMqB,gBAAgB,UAQ1BnB,QAAQC,IAAI,WAAWH,EAAMK,UAgB/B,UACU,yCAEQ,uBACJ+B,MAAOpC,EAAMI,QACbiC,SAhBK,SAACN,GAClB7B,QAAQC,IAAI,aAAa4B,EAAME,OAAOG,OACtCpC,EAAMkB,WAAWa,EAAME,OAAOG,aAiBtB,2CACU,uBACNA,MAAOpC,EAAMc,UACbuB,SAjBO,SAACN,GACtB7B,QAAQC,IAAI,eAAe4B,EAAME,OAAOG,OACxCpC,EAAMmB,aAAaY,EAAME,OAAOG,aAkBtB,8BAEE,wBAAQE,KAAK,SAAb,uBC/FGC,EAxBC,SAACvC,GAYb,OACI,+BACE,qDACoB,uBAChBoC,MAAOpC,EAAMwB,OACba,SAZW,SAACN,GACpB7B,QAAQC,IAAI,eAAe4B,EAAME,OAAOG,OACxCpC,EAAMwC,UAAUT,EAAME,OAAOG,OAC7BlC,QAAQC,IAAI,gBAAgBH,EAAMwB,QAClCtB,QAAQC,IAAIH,EAAMK,QAAQmB,QAAO,SAAAf,GAAM,OAAIA,EAAOD,KAAKiC,cAAcC,SAAS1C,EAAMwB,qBC4B3EmB,EAtBO,SAAC3C,GAWnB,OAJAE,QAAQC,IAAI,WAAWH,EAAOA,EAAMK,QAAQmB,QAAO,SAAAf,GAAM,OAAIA,EAAOD,KAAKiC,cAAcC,SAAS1C,EAAMwB,YAI7FxB,EAAMK,QAAQmB,QAAO,SAAAf,GAAM,OAAIA,EAAOD,KAAKiC,cAAcC,SAAS1C,EAAMwB,WAC5EP,KAAI,SAAAR,GAAM,OACX,8BAEA,8BAAoBA,EAAOD,KAA3B,IAAkCC,EAAOI,OACxC,wBAAQ+B,QAAW,kBA9BH,SAACnC,EAAOJ,EAAQW,EAAWI,EAAYC,GACrDM,OAAOC,QAAP,iBAAyBnB,EAAOD,KAAhC,SACHN,QAAQC,IAAI,iBAAkBM,EAAOpB,GAAGgB,EAAQW,GAChDD,EAAQ3B,aAAaqB,EAAOpB,IAC3BO,MAAK,SAAAC,GACFK,QAAQC,IAAIE,EAAQA,EAAQmB,QAAO,SAAAjB,GAAC,QAAOA,EAAElB,KAAKoB,EAAOpB,QACzD2B,EAAWX,EAAQmB,QAAO,SAAAjB,GAAC,QAAOA,EAAElB,KAAKoB,EAAOpB,QAChDa,QAAQC,IAAI,wBAAwBN,GACpCuB,EAAY,WAAD,OAAYX,EAAOD,OAC9Ba,EAAgB,aAqBIjC,CAAaqB,EAAOT,EAAMK,QAAQL,EAAMgB,WAAWhB,EAAMoB,YAAYpB,EAAMqB,kBAAlG,sBADOZ,EAAOpB,UCJNwD,EAxBI,SAAC7C,GACpBE,QAAQC,IAAI,QAAQH,GACpB,IAAM8C,EAAqB,CAC3BC,MAAO/C,EAAMgD,aACbC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAGZ,OAAsB,OAAlBtD,EAAMuD,QACD,KAIP,qBAAKC,UAAU,eAAeC,MAAOX,EAArC,SACG9C,EAAMuD,WC4CAG,EAvDH,WAAO,IAAD,EAEeC,mBAAS,IAFxB,mBAERtD,EAFQ,KAECW,EAFD,OAIgB2C,mBAAS,IAJzB,mBAIRvD,EAJQ,KAICc,EAJD,OAKoByC,mBAAS,IAL7B,mBAKR7C,EALQ,KAKGK,EALH,OAMcwC,mBAAS,IANvB,mBAMRnC,EANQ,KAMAgB,EANA,OAOcmB,mBAAS,MAPvB,mBAOTJ,EAPS,KAOAK,EAPA,OAQwBD,mBAAS,IARjC,mBAQTX,EARS,KAQK3B,EARL,KAUhBwC,qBAAU,WACR3D,QAAQC,IAAI,UACZnB,EAASC,SAASW,MAAK,SAAAC,GACjBK,QAAQC,IAAI,qBACZa,EAAWnB,EAASC,WAGzB,IAEH,IAAMsB,EAAc,SAACmC,GACnBrD,QAAQC,IAAI,gBAAgBoD,GAC5BK,EAEEL,GAGFO,YAAW,WACTF,EAAW,QACV,MAIL,OACE,gCACE,2CACE,cAAC,EAAD,CAASvD,QAAWA,EAASmB,OAAQA,EAAQgB,UAAWA,IAC1D,2CACA,cAAC,EAAD,CAAce,QAASA,EAASP,aAAcA,IAC5C,cAAC,EAAD,CAAS3C,QAASA,EAASW,WAAYA,EACvCZ,QAASA,EAAQc,WAAYA,EAC7BJ,UAAWA,EAAUK,aAAcA,EACnCE,gBAAiBA,EACjBD,YAAaA,IAEf,yCAEE,cAAC,EAAD,CAAef,QAAWA,EAASW,WAAYA,EAC/CQ,OAAUA,EAAQgB,UAAWA,EAC7BpB,YAAaA,EAAaC,gBAAiBA,QCtDnD0C,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.5322e59a.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n  // console.log(\"getall return\",request.then(response => console.log(response.data)))\r\n  // request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst Services = {\r\n  getAll, deletePerson, create, update\r\n}\r\n\r\nexport default Services","import React from 'react'\r\n\r\nimport Service from './Services'\r\n\r\n\r\nconst AddName = (props) => {\r\n\r\n\r\n  \r\n  \r\n\r\n\r\nconst replaceNumber = (props) => {\r\n  const person = props.persons.find(person => person.name === props.newName)\r\n\r\n  const replace = () => {\r\n    const changedPerson = {...person, number: props.newNumber}\r\n      console.log(\"person\", person)\r\n      Service.update(person.id, changedPerson)\r\n      .then(response =>  {\r\n        props.setPersons(props.persons.map(i => i.id !== person.id ? i : response))\r\n        props.setNewName('')\r\n        props.setNewNumber('')\r\n        props.sendMessage(`changed ${person.name}'s number to ${props.newNumber}`)\r\n        props.setMessageColor('green')\r\n      })\r\n      .catch(error => {\r\n        props.sendMessage(\r\n          `information of ${person.name} has already been deleted from server`\r\n        )\r\n        props.setMessageColor('red')\r\n        props.setPersons(props.persons.filter(n => n.id !== person.id))\r\n      })\r\n      \r\n  }\r\n\r\n  if(person.number.length!==0){\r\n    if(window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)){\r\n      replace()\r\n    }\r\n  }else{\r\n    replace()\r\n  }\r\n}\r\n\r\nconst checkName = () => {\r\n  console.log(\"newName\",props.newName)\r\n\r\n\r\n  if(props.persons.some(i => i.name === props.newName)){\r\n    console.log(\"inIF\")\r\n    replaceNumber(props)\r\n    \r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\n\r\nconst addName = (event) => {\r\n  event.preventDefault()\r\n  console.log(\"newName:\",props.newName)\r\n  console.log(\"newNumber:\",props.newNumber)\r\n  console.log('button clicked', event.target)\r\n  if(checkName()){\r\n    const newPerson = {\r\n        name: props.newName,\r\n        number: props.newNumber\r\n    }\r\n    Service.create(newPerson)\r\n    .then(response => {\r\n      props.setPersons(props.persons.concat(response.data))\r\n\r\n      console.log(\"CoNpersons:\",props.persons)\r\n      props.sendMessage(`Added ${newPerson.name}`)\r\n\r\n      props.setNewName('')\r\n      props.setNewNumber('')\r\n    }).catch(error =>{\r\n      console.log(error.response.data.error)\r\n      props.sendMessage(error.response.data.error)\r\n      props.setMessageColor('red')\r\n    })\r\n  \r\n\r\n  \r\n    \r\n  }\r\n \r\n  console.log(\"persons:\",props.persons)\r\n}\r\n\r\n\r\n\r\nconst handleName = (event) => {\r\n  console.log(\"handleName\",event.target.value)\r\n  props.setNewName(event.target.value)\r\n}\r\n\r\nconst handleNumber = (event) => {\r\nconsole.log(\"handleNumber\",event.target.value)\r\nprops.setNewNumber(event.target.value)\r\n}\r\n\r\nreturn(\r\n<form onSubmit={addName}>\r\n          <div>\r\n         \r\n            name: <input \r\n              value={props.newName} \r\n              onChange={handleName}\r\n              />\r\n          </div>\r\n          <div>\r\n            number: <input \r\n              value={props.newNumber}\r\n              onChange={handleNumber}\r\n            />\r\n          </div>\r\n          <div>\r\n              \r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n)\r\n\r\n}\r\n\r\nexport default AddName\r\n","import React from 'react'\r\n\r\nconst Filtter = (props) => {\r\n\r\n \r\n\r\n\r\n    const handleFilter = (event) => {\r\n      console.log(\"handleFilter\",event.target.value)\r\n      props.setFilter(event.target.value)\r\n      console.log(\"handleFilter2\",props.filter)\r\n      console.log(props.persons.filter(person => person.name.toLowerCase().includes(props.filter)))\r\n    }\r\n\r\n    return(\r\n        <form >\r\n          <div>\r\n            filter shown with <input \r\n              value={props.filter} \r\n              onChange={handleFilter}\r\n              />\r\n          </div>         \r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filtter","import React from 'react'\r\nimport Service from './Services'\r\n\r\n    const deletePerson = (person,persons,setPersons,sendMessage,setMessageColor) => {\r\n        if(window.confirm(`Delete ${person.name} ?`)){\r\n        console.log(\"clicked delete\", person.id,persons,setPersons)\r\n        Service.deletePerson(person.id)\r\n        .then(response => {\r\n            console.log(persons,persons.filter(i =>  !(i.id===person.id)))\r\n            setPersons(persons.filter(i =>  !(i.id===person.id)))\r\n            console.log(\"persons after delete:\",response)\r\n            sendMessage(`Deleted ${person.name}`)\r\n            setMessageColor('green')\r\n          })\r\n        }\r\n    }\r\n\r\nconst RenderPersons = (props) => {\r\n\r\n    \r\n\r\n    \r\n    \r\n\r\n    console.log(\"filtered\",props, props.persons.filter(person => person.name.toLowerCase().includes(props.filter)))\r\n\r\n\r\n\r\n    return(  props.persons.filter(person => person.name.toLowerCase().includes(props.filter))\r\n        .map(person => \r\n        <div>\r\n        \r\n        <p key={person.id}>{person.name} {person.number} \r\n         <button onClick = {()=>deletePerson(person,props.persons,props.setPersons,props.sendMessage,props.setMessageColor)}>delete</button>\r\n        </p>\r\n        </div>))\r\n\r\n}\r\n\r\nexport default RenderPersons","import React from 'react'\r\n\r\n\r\n\r\nconst Notification = (props) => {\r\n  console.log(\"props\",props)\r\n  const notificationStyle =  {\r\n  color: props.messageColor,\r\n  background: 'lightgrey',\r\n  fontSize: '20px',\r\n  borderStyle: 'solid',\r\n  borderRadius: '5px',\r\n  padding: '10px',\r\n  marginBottom: '10px'\r\n}\r\n\r\n    if (props.message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"notification\" style={notificationStyle}>\r\n        {props.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  export default Notification","import React, { useEffect, useState } from 'react'\r\nimport AddName from './AddName'\r\nimport Filtter from './Filtter'\r\nimport RenderPersons from './RenderPersons'\r\n\r\nimport Notification from './Notification'\r\nimport Services from './Services'\r\n\r\n\r\n\r\n\r\nconst App = () => {\r\n  \r\n  const [ persons, setPersons] = useState([\r\n  ]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [messageColor, setMessageColor] = useState('')\r\n\r\n  useEffect(()=>{\r\n    console.log(\"effect\")\r\n    Services.getAll().then(response => {\r\n          console.log(\"promise fulfilled\")\r\n          setPersons(response.data)\r\n    })\r\n  \r\n  }, [])\r\n\r\n  const sendMessage = (message) => {\r\n    console.log(\"message,color\",message)\r\n    setMessage(\r\n      \r\n      message\r\n    )\r\n    \r\n    setTimeout(() => {\r\n      setMessage(null)\r\n    }, 5000)\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n        <Filtter persons = {persons} filter={filter} setFilter={setFilter}/>\r\n      <h2>add a new</h2>\r\n      <Notification message={message} messageColor={messageColor}/>\r\n        <AddName persons={persons} setPersons={setPersons} \r\n        newName={newName}setNewName={setNewName}\r\n        newNumber={newNumber}setNewNumber={setNewNumber}\r\n        setMessageColor={setMessageColor}\r\n        sendMessage={sendMessage}/>\r\n     \r\n      <h2>Numbers</h2>\r\n      \r\n        <RenderPersons persons = {persons} setPersons={setPersons} \r\n        filter = {filter} setFilter={setFilter} \r\n        sendMessage={sendMessage} setMessageColor={setMessageColor}/>\r\n\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}